type Release @entity {
  id: ID!
  repo: Repository!
  tag: String!
  releaseCID: String!
  signers: [String!]!
}

# type OrgMeta @entity {
#   id: ID!
#   name: String
#   description: String
#   homepage: String
# }

type Repository @entity {
  id: ID!
  org: Organization!
  name: String!
  test: String
  metaCID: String!
  releases: [Release!]! @derivedFrom(field: "repo")
  keys: [Key!]! @derivedFrom(field: "repo")
}

type Organization @entity {
  id: ID!
  orgID: Bytes! # bytes32
  name: String!
  metaCID: String!
  repos: [Repository!]! @derivedFrom(field: "org")
  keys: [Key!]! @derivedFrom(field: "org")
}

type Key @entity {
  id: ID!
  role: String!
  address: String!
  org: Organization
  repo: Repository
}

type Activity @entity {
  id: ID!
  text: String!
}

# type RepoKey @entity {
#   id: ID!
#   role: String!
#   address: String!
#   repo: Repository!
# }